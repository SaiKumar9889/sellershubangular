import { Component, OnInit, SecurityContext } from '@angular/core';
import { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';

@Component({
  selector: 'app-ai-subscriptionplans-dashboard',
  templateUrl: './ai-subscriptionplans-dashboard.component.html',
  styleUrls: ['./ai-subscriptionplans-dashboard.component.scss']
})
export class AiSubscriptionplansDashboardComponent implements OnInit {
  loaded: boolean = false;
  urlSafe: SafeResourceUrl;
  url: string = "https://login.sellershub.io/aidashboard/app/dashboards#/view/95666f70-a55e-11ec-b04a-45ec44099de1?embed=true&_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-7d%2Fd,to:now))&_a=(description:'',filters:!(),fullScreenMode:!f,options:(hidePanelTitles:!f,syncColors:!f,useMargins:!t),panels:!((embeddableConfig:(enhancements:(),hidePanelTitles:!t,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(fontSize:12,markdown:'%23%23%23%20%5B!!%5BSellershub.io%5D(https:%2F%2Fwww.sellershub.io%2Fwp-content%2Fuploads%2F2021%2F11%2Fsel-up-1.png)%5D(https:%2F%2Fwww.sellershub.io%2F)%0A%0A',openLinksInNewTab:!f),title:'',type:markdown,uiState:())),gridData:(h:6,i:d61cc7bf-2390-4225-88c0-a20e59862002,w:9,x:0,y:0),panelIndex:d61cc7bf-2390-4225-88c0-a20e59862002,type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!t,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(fontSize:12,markdown:'%23%23%23%20User%20Realtime%20Consumption%20Data%0AThis%20dashboard%20contains%20User%20Real%20time%20Consumption%20data%20for%20sales%20team%20to%20play%20with.%20You%20can%20view%20it,%20search%20it,%20and%20interact%20with%20the%20visualizations.%20For%20more%20information%20about%20Sellershub%20documentation,%20check%20our%20%5Bdocs%5D(https:%2F%2Fwww.sellershub.io%2Fknowledge-base%2Fuser-guide%2F).%20%20%20%20%20%20%20%0A',openLinksInNewTab:!f),title:'',type:markdown,uiState:())),gridData:(h:6,i:'548d884e-09fc-48c7-b464-788b01bc78f1',w:39,x:9,y:0),panelIndex:'548d884e-09fc-48c7-b464-788b01bc78f1',type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(controls:!((fieldName:khub_user_id,id:'1648846004163',indexPattern:'7903f070-8090-11ec-82dd-951823ba93c1',label:UserID,options:(dynamicOptions:!t,multiselect:!t,order:desc,size:50,type:terms),parent:'',type:list),(fieldName:channel.keyword,id:'1648846079345',indexPattern:'7903f070-8090-11ec-82dd-951823ba93c1',label:Channels,options:(dynamicOptions:!t,multiselect:!t,order:desc,size:5,type:terms),parent:'',type:list),(fieldName:order_status.keyword,id:'1648846624892',indexPattern:'7903f070-8090-11ec-82dd-951823ba93c1',label:Status,options:(dynamicOptions:!t,multiselect:!t,order:desc,size:5,type:terms),parent:'',type:list)),pinFilters:!f,updateFiltersOnChange:!f,useTimeFilter:!f),title:'',type:input_control_vis,uiState:())),gridData:(h:7,i:'9000ff67-bdc1-41aa-9659-f4ba261e39df',w:48,x:0,y:6),panelIndex:'9000ff67-bdc1-41aa-9659-f4ba261e39df',title:'Subscription%20Filters',type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!((enabled:!t,id:'1',params:(customLabel:'Orders%20Processed%20per%20Subscription'),schema:metric,type:count),(enabled:!t,id:'2',params:(customLabel:'',field:khub_user_id,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:10),schema:group,type:terms)),searchSource:(filter:!(),index:'7903f070-8090-11ec-82dd-951823ba93c1',query:(language:kuery,query:''))),description:'',id:'',params:(addLegend:!t,addTooltip:!t,gauge:(alignment:automatic,backStyle:Full,colorSchema:'Green%20to%20Red',colorsRange:!((from:0,to:25),(from:26,to:750),(from:751,to:2500),(from:2501,to:25000)),extendRange:!t,gaugeColorMode:Labels,gaugeStyle:Full,gaugeType:Circle,invertColors:!t,labels:(color:black,show:!t),orientation:vertical,outline:!t,percentageMode:!f,scale:(color:'rgba(105,112,125,0.2)',labels:!f,show:!t),style:(bgColor:!t,bgFill:'rgba(105,112,125,0.2)',bgMask:!f,bgWidth:0.9,fontSize:60,mask:!f,maskBars:50,subText:'Subscription%20Plan',width:0.9),type:meter),isDisplayWarning:!t,type:gauge),title:'',type:gauge,uiState:(vis:(defaultColors:('0%20-%2025':'rgb(165,0,38)','2501%20-%2025000':'rgb(0,104,55)','26%20-%20750':'rgb(253,191,111)','751%20-%202500':'rgb(183,224,117)')))),timeRange:(from:now-7d%2Fd,to:now)),gridData:(h:11,i:'69b77521-910d-44a4-87a3-d6a289581fa5',w:48,x:0,y:13),panelIndex:'69b77521-910d-44a4-87a3-d6a289581fa5',title:'Subscriptions%20Real%20Time%20Analytics%20(Weekly)',type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!((enabled:!t,id:'1',params:(customLabel:'Customer%20Registration%20Data'),schema:metric,type:count),(enabled:!t,id:'3',params:(customLabel:UserID,field:khub_user_id,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:50),schema:bucket,type:terms),(enabled:!t,id:'4',params:(customLabel:'Plan%20Type',field:item_name.keyword,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:50),schema:bucket,type:terms),(enabled:!t,id:'2',params:(customLabel:'Order%20Limit',field:order_limit,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:50),schema:bucket,type:terms),(enabled:!t,id:'5',params:(customLabel:'Stock%20Limit',field:stock_limit,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:50),schema:bucket,type:terms),(enabled:!t,id:'6',params:(customLabel:'Channel%20Limit',field:channel_limit,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:5),schema:bucket,type:terms),(enabled:!t,id:'7',params:(customLabel:'Start%20Date',field:start_date,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:5),schema:bucket,type:terms),(enabled:!t,id:'8',params:(customLabel:'End%20Date',field:end_date,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:50),schema:bucket,type:terms),(enabled:!t,id:'9',params:(customLabel:Status,field:status.keyword,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:5),schema:bucket,type:terms)),savedSearchId:'981970b0-9c7a-11ec-af01-2f4338321ea9',searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(autoFitRowToContent:!f,perPage:5,percentageCol:'',row:!t,showMetricsAtAllLevels:!f,showPartialRows:!f,showToolbar:!t,showTotal:!t,totalFunc:sum),title:'',type:table,uiState:()),table:!n,timeRange:(from:now-5y,to:now),vis:(params:(colWidth:!((colIndex:5,width:253.33333333333334),(colIndex:6,width:270.08333333333337)),sort:(columnIndex:2,direction:desc)))),gridData:(h:13,i:a13a050b-4c08-41a9-af47-0c36e3e83109,w:48,x:0,y:24),panelIndex:a13a050b-4c08-41a9-af47-0c36e3e83109,title:'Subscription%20Registration%20Limits%20(Monthly)',type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!((enabled:!t,id:'1',params:(),schema:metric,type:count),(enabled:!t,id:'2',params:(field:label_printed,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:10),schema:group,type:terms)),searchSource:(filter:!(),index:'7903f070-8090-11ec-82dd-951823ba93c1',query:(language:kuery,query:''))),description:'',id:'',params:(addLegend:!t,addTooltip:!t,gauge:(alignment:automatic,backStyle:Full,colorSchema:'Green%20to%20Red',colorsRange:!((from:0,to:100),(from:101,to:3000),(from:3001,to:10000),(from:10000,to:100000)),extendRange:!t,gaugeColorMode:Labels,gaugeStyle:Full,gaugeType:Circle,invertColors:!t,labels:(color:black,show:!t),orientation:vertical,outline:!t,percentageMode:!f,scale:(color:'rgba(105,112,125,0.2)',labels:!f,show:!t),style:(bgColor:!t,bgFill:'rgba(105,112,125,0.2)',bgMask:!f,bgWidth:0.9,fontSize:60,mask:!f,maskBars:50,subText:'Subscription%20Plan',width:0.9),type:meter),isDisplayWarning:!f,type:gauge),title:'',type:gauge,uiState:(vis:(defaultColors:('0%20-%20100':'rgb(165,0,38)','10000%20-%20100000':'rgb(0,104,55)','101%20-%203000':'rgb(253,191,111)','3001%20-%2010000':'rgb(183,224,117)'))))),gridData:(h:11,i:'7e5965b0-cab0-42c9-9628-d035a31695d1',w:48,x:0,y:52),panelIndex:'7e5965b0-cab0-42c9-9628-d035a31695d1',title:'Labels%20Printed',type:visualization,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'7903f070-8090-11ec-82dd-951823ba93c1',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'7903f070-8090-11ec-82dd-951823ba93c1',name:indexpattern-datasource-layer-45376531-8b4c-4fc1-b9e5-f7c80efe1a84,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('45376531-8b4c-4fc1-b9e5-f7c80efe1a84':(columnOrder:!('7baaffed-d80c-4c6f-a238-7736a187e43b','0c04645e-493c-4858-bca9-6ad8a75efafb',d4685caa-3eff-4a64-8577-2a57ca45e6fd),columns:('0c04645e-493c-4858-bca9-6ad8a75efafb':(dataType:number,isBucketed:!t,label:'Top%20values%20of%20khub_user_id',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:d4685caa-3eff-4a64-8577-2a57ca45e6fd,type:column),orderDirection:desc,otherBucket:!t,size:15),scale:ordinal,sourceField:khub_user_id),'7baaffed-d80c-4c6f-a238-7736a187e43b':(dataType:date,isBucketed:!t,label:'@timestamp',operationType:date_histogram,params:(interval:auto),scale:interval,sourceField:'@timestamp'),d4685caa-3eff-4a64-8577-2a57ca45e6fd:(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(axisTitlesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),fittingFunction:None,gridlinesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),labelsOrientation:(x:0,yLeft:0,yRight:0),layers:!((accessors:!(d4685caa-3eff-4a64-8577-2a57ca45e6fd),layerId:'45376531-8b4c-4fc1-b9e5-f7c80efe1a84',layerType:data,position:top,seriesType:bar_stacked,showGridlines:!f,splitAccessor:'0c04645e-493c-4858-bca9-6ad8a75efafb',xAccessor:'7baaffed-d80c-4c6f-a238-7736a187e43b')),legend:(isVisible:!t,position:right),preferredSeriesType:bar_stacked,tickLabelsVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),valueLabels:hide,yLeftExtent:(mode:full),yRightExtent:(mode:full))),title:'',type:lens,visualizationType:lnsXY),enhancements:(),hidePanelTitles:!f),gridData:(h:15,i:'94103a65-04a8-4898-b73f-4add3bf4e5c7',w:48,x:0,y:63),panelIndex:'94103a65-04a8-4898-b73f-4add3bf4e5c7',title:'Orders%20Distribution',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'7903f070-8090-11ec-82dd-951823ba93c1',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'7903f070-8090-11ec-82dd-951823ba93c1',name:indexpattern-datasource-layer-10b19e84-fff9-4829-9e61-d050d709f47e,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('10b19e84-fff9-4829-9e61-d050d709f47e':(columnOrder:!(c1862e9e-89db-4bf8-9e3d-f0a0cc14db3b,'1cd9d046-8ce9-4c73-98a5-598ea4291a3e','6a06a9db-a3e8-4b14-a72f-9a74fc327ce7'),columns:('1cd9d046-8ce9-4c73-98a5-598ea4291a3e':(dataType:date,isBucketed:!t,label:'@timestamp',operationType:date_histogram,params:(interval:auto),scale:interval,sourceField:'@timestamp'),'6a06a9db-a3e8-4b14-a72f-9a74fc327ce7':(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records),c1862e9e-89db-4bf8-9e3d-f0a0cc14db3b:(dataType:string,isBucketed:!t,label:'Top%20values%20of%20channel.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'6a06a9db-a3e8-4b14-a72f-9a74fc327ce7',type:column),orderDirection:desc,otherBucket:!t,size:10),scale:ordinal,sourceField:channel.keyword)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(axisTitlesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),fittingFunction:None,gridlinesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),labelsOrientation:(x:0,yLeft:0,yRight:0),layers:!((accessors:!('6a06a9db-a3e8-4b14-a72f-9a74fc327ce7'),layerId:'10b19e84-fff9-4829-9e61-d050d709f47e',layerType:data,position:top,seriesType:bar_stacked,showGridlines:!f,splitAccessor:c1862e9e-89db-4bf8-9e3d-f0a0cc14db3b,xAccessor:'1cd9d046-8ce9-4c73-98a5-598ea4291a3e')),legend:(isVisible:!t,position:right),preferredSeriesType:bar_stacked,tickLabelsVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),valueLabels:hide,yLeftExtent:(mode:full),yRightExtent:(mode:full))),title:'',type:lens,visualizationType:lnsXY),enhancements:(),hidePanelTitles:!f),gridData:(h:15,i:'215f79f8-390e-4b02-8ad2-fa60ecff6efd',w:48,x:0,y:78),panelIndex:'215f79f8-390e-4b02-8ad2-fa60ecff6efd',title:'Channel%20Distribution',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'7903f070-8090-11ec-82dd-951823ba93c1',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'7903f070-8090-11ec-82dd-951823ba93c1',name:indexpattern-datasource-layer-10b19e84-fff9-4829-9e61-d050d709f47e,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('10b19e84-fff9-4829-9e61-d050d709f47e':(columnOrder:!(c1862e9e-89db-4bf8-9e3d-f0a0cc14db3b,'1cd9d046-8ce9-4c73-98a5-598ea4291a3e','6a06a9db-a3e8-4b14-a72f-9a74fc327ce7'),columns:('1cd9d046-8ce9-4c73-98a5-598ea4291a3e':(dataType:date,isBucketed:!t,label:'@timestamp',operationType:date_histogram,params:(interval:auto),scale:interval,sourceField:'@timestamp'),'6a06a9db-a3e8-4b14-a72f-9a74fc327ce7':(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records),c1862e9e-89db-4bf8-9e3d-f0a0cc14db3b:(dataType:string,isBucketed:!t,label:'Top%20values%20of%20carrier_name.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'6a06a9db-a3e8-4b14-a72f-9a74fc327ce7',type:column),orderDirection:desc,otherBucket:!t,size:15),scale:ordinal,sourceField:carrier_name.keyword)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(axisTitlesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),fittingFunction:None,gridlinesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),labelsOrientation:(x:0,yLeft:0,yRight:0),layers:!((accessors:!('6a06a9db-a3e8-4b14-a72f-9a74fc327ce7'),layerId:'10b19e84-fff9-4829-9e61-d050d709f47e',layerType:data,position:top,seriesType:bar_stacked,showGridlines:!f,splitAccessor:c1862e9e-89db-4bf8-9e3d-f0a0cc14db3b,xAccessor:'1cd9d046-8ce9-4c73-98a5-598ea4291a3e')),legend:(isVisible:!t,position:right),preferredSeriesType:bar_stacked,tickLabelsVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),valueLabels:hide,yLeftExtent:(mode:full),yRightExtent:(mode:full))),title:'',type:lens,visualizationType:lnsXY),enhancements:(),hidePanelTitles:!f),gridData:(h:15,i:'817da3ac-1f44-4dc1-9ce2-87afd8d8db79',w:48,x:0,y:93),panelIndex:'817da3ac-1f44-4dc1-9ce2-87afd8d8db79',title:'Carrier%20Distribution',type:lens,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!((enabled:!t,id:'1',params:(),schema:metric,type:count),(enabled:!t,id:'2',params:(customLabel:UserID,field:khub_user_id,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!t,otherBucketLabel:Other,size:50),schema:bucket,type:terms),(enabled:!t,id:'3',params:(customLabel:'First%20Name',field:first_name.keyword,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:50),schema:bucket,type:terms),(enabled:!t,id:'4',params:(customLabel:'Last%20Name',field:last_name.keyword,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:50),schema:bucket,type:terms),(enabled:!t,id:'5',params:(customLabel:'Email%20ID',field:email_address.keyword,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'1',otherBucket:!f,otherBucketLabel:Other,size:5),schema:bucket,type:terms)),searchSource:(filter:!(),index:'348d4760-9c7a-11ec-af01-2f4338321ea9',query:(language:kuery,query:''))),description:'',id:'',params:(autoFitRowToContent:!f,perPage:5,percentageCol:'',showMetricsAtAllLevels:!f,showPartialRows:!f,showToolbar:!t,showTotal:!t,totalFunc:sum),title:'',type:table,uiState:()),timeRange:(from:now-5y,to:now)),gridData:(h:15,i:efed1042-1149-4185-9d76-183a5b516d35,w:48,x:0,y:37),panelIndex:efed1042-1149-4185-9d76-183a5b516d35,title:'User%20Registration%20Details',type:visualization,version:'7.16.2')),query:(language:kuery,query:''),tags:!(),timeRestore:!f,title:AISellershubSubscription,viewMode:view)&show-query-input=true&show-time-filter=true&hide-filter-bar=true";
  constructor(public _sanitizer: DomSanitizer) {
    let userdetails = localStorage.getItem('userId');
    if (userdetails != null) {
      this.url = this.url.replace('(khub_user_id:2358)', '(khub_user_id:' + userdetails + ')');
      this.loaded = true;
      this.urlSafe = this._sanitizer.bypassSecurityTrustResourceUrl(this.url);
    }
  }

  ngOnInit(): void {

  }

  photoURL() {
    // return this._sanitizer.bypassSecurityTrustUrl(this.url);
    return this._sanitizer.sanitize(SecurityContext.URL, this.url)
  }


}

