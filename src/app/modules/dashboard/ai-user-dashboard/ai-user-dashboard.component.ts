import { Component, OnInit, SecurityContext } from '@angular/core';
import { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';

@Component({
  selector: 'app-ai-user-dashboard',
  templateUrl: './ai-user-dashboard.component.html',
  styleUrls: ['./ai-user-dashboard.component.scss']
})
export class AiUserDashboardComponent implements OnInit {

  loaded: boolean = false;
  urlSafe: SafeResourceUrl;
  url: string = "https://login.sellershub.io/aidashboard/app/dashboards#/view/8c50cd70-9c82-11ec-af01-2f4338321ea9?embed=true&_g=(filters:!(),refreshInterval:(pause:!f,value:10000),time:(from:now-5y,to:now))&_a=(description:'',filters:!(),fullScreenMode:!f,options:(hidePanelTitles:!f,syncColors:!f,useMargins:!t),panels:!((embeddableConfig:(enhancements:(),hidePanelTitles:!t,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(fontSize:12,markdown:'%23%23%23%20%5B!!%5BSellershub.io%5D(https:%2F%2Fwww.sellershub.io%2Fwp-content%2Fuploads%2F2021%2F11%2Fsel-up-1.png)%5D(https:%2F%2Fwww.sellershub.io%2F)%0A%0A',openLinksInNewTab:!f),title:'',type:markdown,uiState:())),gridData:(h:6,i:'8d819c33-5f48-4d3c-b54a-691227e55fa9',w:8,x:0,y:0),panelIndex:'8d819c33-5f48-4d3c-b54a-691227e55fa9',type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!t,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(fontSize:12,markdown:'%23%23%23%20User%20Registration%20Data%0AThis%20dashboard%20contains%20User%20registration%20data%20for%20sales%20team%20to%20play%20with.%20You%20can%20view%20it,%20search%20it,%20and%20interact%20with%20the%20visualizations.%20For%20more%20information%20about%20Sellershub%20documentation,%20check%20our%20%5Bdocs%5D(https:%2F%2Fwww.sellershub.io%2Fknowledge-base%2Fuser-guide%2F).%20%20%20%20%20%20%20%0A',openLinksInNewTab:!f),title:'',type:markdown,uiState:())),gridData:(h:6,i:'667d95dc-155e-4370-939b-5ffec3597a6c',w:40,x:8,y:0),panelIndex:'667d95dc-155e-4370-939b-5ffec3597a6c',type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(controls:!((fieldName:id,id:'1648838729379',indexPattern:'348d4760-9c7a-11ec-af01-2f4338321ea9',label:'',options:(dynamicOptions:!t,multiselect:!t,order:desc,size:50,type:terms),parent:'',type:list),(fieldName:first_name.keyword,id:'1648836713866',indexPattern:'348d4760-9c7a-11ec-af01-2f4338321ea9',label:'First%20Name',options:(dynamicOptions:!t,multiselect:!t,order:desc,size:50,type:terms),parent:'',type:list),(fieldName:last_name.keyword,id:'1648837047362',indexPattern:'348d4760-9c7a-11ec-af01-2f4338321ea9',label:'Last%20Name',options:(dynamicOptions:!t,multiselect:!t,order:desc,size:50,type:terms),parent:'',type:list),(fieldName:email_address.keyword,id:'1648836760232',indexPattern:'348d4760-9c7a-11ec-af01-2f4338321ea9',label:Email,options:(dynamicOptions:!t,multiselect:!t,order:desc,size:50,type:terms),parent:'',type:list),(fieldName:company_name.keyword,id:'1648894035725',indexPattern:'348d4760-9c7a-11ec-af01-2f4338321ea9',label:'Company%20Name',options:(dynamicOptions:!t,multiselect:!t,order:desc,size:5,type:terms),parent:'',type:list)),pinFilters:!t,updateFiltersOnChange:!f,useTimeFilter:!f),title:'',type:input_control_vis,uiState:())),gridData:(h:9,i:'00850582-9f14-4481-8c2f-8cd47b9c5d11',w:48,x:0,y:6),panelIndex:'00850582-9f14-4481-8c2f-8cd47b9c5d11',title:'User%20Filter',type:visualization,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-83f6802b-5075-4f38-96ba-25bca167fa67,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('83f6802b-5075-4f38-96ba-25bca167fa67':(columnOrder:!('20399260-9bc3-4a33-b8cb-59e5ceb60a6a'),columns:('20399260-9bc3-4a33-b8cb-59e5ceb60a6a':(customLabel:!t,dataType:number,isBucketed:!f,label:'%20',operationType:count,scale:ratio,sourceField:Records)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(accessor:'20399260-9bc3-4a33-b8cb-59e5ceb60a6a',layerId:'83f6802b-5075-4f38-96ba-25bca167fa67',layerType:data)),title:'',type:lens,visualizationType:lnsMetric),enhancements:(),hidePanelTitles:!f),gridData:(h:6,i:'297cb16e-0c18-4d1b-8f57-baf7df8d3015',w:9,x:0,y:15),panelIndex:'297cb16e-0c18-4d1b-8f57-baf7df8d3015',title:'Registered%20Users',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-adf71303-a1b7-4581-b624-9204e42135ec,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(adf71303-a1b7-4581-b624-9204e42135ec:(columnOrder:!('81481376-c910-443c-a8a6-9bc2e366ad2d'),columns:('81481376-c910-443c-a8a6-9bc2e366ad2d':(customLabel:!t,dataType:number,isBucketed:!f,label:'%20',operationType:sum,scale:ratio,sourceField:countoforders)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(accessor:'81481376-c910-443c-a8a6-9bc2e366ad2d',layerId:adf71303-a1b7-4581-b624-9204e42135ec,layerType:data)),title:'',type:lens,visualizationType:lnsMetric),enhancements:(),hidePanelTitles:!f),gridData:(h:6,i:c0e0ba68-cf9c-477b-b6ca-0b2ae082d153,w:10,x:9,y:15),panelIndex:c0e0ba68-cf9c-477b-b6ca-0b2ae082d153,title:'subscribed%20Orders',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-857ee0e9-81ce-40bf-83ab-ac7022b91d36,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('857ee0e9-81ce-40bf-83ab-ac7022b91d36':(columnOrder:!('1ca80131-c01e-4c4e-9aaa-03798f2434e3'),columns:('1ca80131-c01e-4c4e-9aaa-03798f2434e3':(customLabel:!t,dataType:number,isBucketed:!f,label:'%20',operationType:sum,params:(),scale:ratio,sourceField:total_orders_downloaded)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(accessor:'1ca80131-c01e-4c4e-9aaa-03798f2434e3',layerId:'857ee0e9-81ce-40bf-83ab-ac7022b91d36',layerType:data)),title:'',type:lens,visualizationType:lnsMetric),enhancements:(),hidePanelTitles:!f),gridData:(h:6,i:'34b242b0-bc6c-46df-a6b5-025e257a4861',w:10,x:19,y:15),panelIndex:'34b242b0-bc6c-46df-a6b5-025e257a4861',title:'Subscribed%20Orders%20Download',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-4e45bd75-372c-4425-ae59-3bac8763a800,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('4e45bd75-372c-4425-ae59-3bac8763a800':(columnOrder:!(bd5b4af2-1e01-427e-b3b7-13838ca29fea),columns:(bd5b4af2-1e01-427e-b3b7-13838ca29fea:(customLabel:!t,dataType:number,isBucketed:!f,label:'%20',operationType:sum,scale:ratio,sourceField:countofskus)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(accessor:bd5b4af2-1e01-427e-b3b7-13838ca29fea,layerId:'4e45bd75-372c-4425-ae59-3bac8763a800',layerType:data)),title:'',type:lens,visualizationType:lnsMetric),enhancements:(),hidePanelTitles:!f),gridData:(h:6,i:'1538199e-6560-4af6-aec5-a448283f95fb',w:11,x:29,y:15),panelIndex:'1538199e-6560-4af6-aec5-a448283f95fb',title:'subscribed%20SKU',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-c422b0ff-34b3-4dca-9c3c-e34a89e2ed67,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(c422b0ff-34b3-4dca-9c3c-e34a89e2ed67:(columnOrder:!('55ea54c9-de1e-4b20-a967-29985ad05901'),columns:('55ea54c9-de1e-4b20-a967-29985ad05901':(customLabel:!t,dataType:number,isBucketed:!f,label:'%20',operationType:sum,scale:ratio,sourceField:trialtotallisting)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(accessor:'55ea54c9-de1e-4b20-a967-29985ad05901',layerId:c422b0ff-34b3-4dca-9c3c-e34a89e2ed67,layerType:data)),title:'',type:lens,visualizationType:lnsMetric),enhancements:(),hidePanelTitles:!f),gridData:(h:6,i:'69d259cd-1778-42f1-a858-6c4733d40b41',w:8,x:40,y:15),panelIndex:'69d259cd-1778-42f1-a858-6c4733d40b41',title:'subscribed%20Trail%20Listings',type:lens,version:'7.16.2'),(embeddableConfig:(columns:!(id,phone_number,user_name,first_name,last_name,email_address,company_name,city),enhancements:()),gridData:(h:14,i:'2555cc1f-8fae-4733-9442-9cfbf6a00335',w:48,x:0,y:21),id:'5cfaf1f0-9e43-11ec-af01-2f4338321ea9',panelIndex:'2555cc1f-8fae-4733-9442-9cfbf6a00335',type:search,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-977b16be-942f-45da-adb5-8f317cd563a2,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('977b16be-942f-45da-adb5-8f317cd563a2':(columnOrder:!('558cfbf2-1867-4283-910e-8d891b4bd290','33e7ed91-13f4-4757-8602-29e439c95e21',a662d432-3b94-4633-b48b-2df108d1426e),columns:('33e7ed91-13f4-4757-8602-29e439c95e21':(dataType:date,isBucketed:!t,label:last_login_date,operationType:date_histogram,params:(interval:auto),scale:interval,sourceField:last_login_date),'558cfbf2-1867-4283-910e-8d891b4bd290':(dataType:string,isBucketed:!t,label:'Top%20values%20of%20first_name.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:a662d432-3b94-4633-b48b-2df108d1426e,type:column),orderDirection:desc,otherBucket:!t,size:50),scale:ordinal,sourceField:first_name.keyword),a662d432-3b94-4633-b48b-2df108d1426e:(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(axisTitlesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),fittingFunction:None,gridlinesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),labelsOrientation:(x:0,yLeft:0,yRight:0),layers:!((accessors:!(a662d432-3b94-4633-b48b-2df108d1426e),layerId:'977b16be-942f-45da-adb5-8f317cd563a2',layerType:data,position:top,seriesType:bar_stacked,showGridlines:!f,splitAccessor:'558cfbf2-1867-4283-910e-8d891b4bd290',xAccessor:'33e7ed91-13f4-4757-8602-29e439c95e21')),legend:(isVisible:!t,position:right),preferredSeriesType:bar_stacked,tickLabelsVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),valueLabels:hide,yLeftExtent:(mode:full),yRightExtent:(mode:full))),title:'',type:lens,visualizationType:lnsXY),enhancements:(),hidePanelTitles:!f),gridData:(h:13,i:'22df595c-7ef6-41dd-a046-e0585c4d7d68',w:48,x:0,y:35),panelIndex:'22df595c-7ef6-41dd-a046-e0585c4d7d68',title:'User%20Login',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-d4577b2a-49c8-4556-82e1-942037c7ea4e,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(d4577b2a-49c8-4556-82e1-942037c7ea4e:(columnOrder:!('869e9ede-3cbb-4155-9134-5ac69fc47836','7672f04a-da70-458c-94d9-e8e552f1cc83',dc50bb78-43be-4327-bcc2-6aad1d63768d),columns:('7672f04a-da70-458c-94d9-e8e552f1cc83':(dataType:date,isBucketed:!t,label:'@timestamp',operationType:date_histogram,params:(interval:auto),scale:interval,sourceField:'@timestamp'),'869e9ede-3cbb-4155-9134-5ac69fc47836':(dataType:string,isBucketed:!t,label:'Top%20values%20of%20first_name.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:dc50bb78-43be-4327-bcc2-6aad1d63768d,type:column),orderDirection:desc,otherBucket:!t,size:50),scale:ordinal,sourceField:first_name.keyword),dc50bb78-43be-4327-bcc2-6aad1d63768d:(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(axisTitlesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),fittingFunction:None,gridlinesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),labelsOrientation:(x:0,yLeft:0,yRight:0),layers:!((accessors:!(dc50bb78-43be-4327-bcc2-6aad1d63768d),layerId:d4577b2a-49c8-4556-82e1-942037c7ea4e,layerType:data,position:top,seriesType:bar_stacked,showGridlines:!f,splitAccessor:'869e9ede-3cbb-4155-9134-5ac69fc47836',xAccessor:'7672f04a-da70-458c-94d9-e8e552f1cc83')),legend:(isVisible:!t,position:right),preferredSeriesType:bar_stacked,tickLabelsVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),valueLabels:hide,yLeftExtent:(mode:full),yRightExtent:(mode:full))),title:'',type:lens,visualizationType:lnsXY),enhancements:(),hidePanelTitles:!f),gridData:(h:13,i:'4255c4d8-4c8a-4e3d-98ca-78f575f9a5ec',w:48,x:0,y:48),panelIndex:'4255c4d8-4c8a-4e3d-98ca-78f575f9a5ec',title:'User%20Registration',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-740883e9-f8c2-43ed-9766-79d91324a47f,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('740883e9-f8c2-43ed-9766-79d91324a47f':(columnOrder:!('31462f36-d03f-4862-b91b-7ea6f2839929','57d51b85-177a-4da6-99b5-452abb2ec88a','3ff7b043-acc4-4875-b1c9-f34b7308c37a'),columns:('31462f36-d03f-4862-b91b-7ea6f2839929':(dataType:string,isBucketed:!t,label:'Top%20values%20of%20email_address.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'3ff7b043-acc4-4875-b1c9-f34b7308c37a',type:column),orderDirection:desc,otherBucket:!t,size:30),scale:ordinal,sourceField:email_address.keyword),'3ff7b043-acc4-4875-b1c9-f34b7308c37a':(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records),'57d51b85-177a-4da6-99b5-452abb2ec88a':(dataType:string,isBucketed:!t,label:'Top%20values%20of%20first_name.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'3ff7b043-acc4-4875-b1c9-f34b7308c37a',type:column),orderDirection:desc,otherBucket:!t,size:30),scale:ordinal,sourceField:first_name.keyword)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(layers:!((categoryDisplay:default,groups:!('31462f36-d03f-4862-b91b-7ea6f2839929','57d51b85-177a-4da6-99b5-452abb2ec88a'),layerId:'740883e9-f8c2-43ed-9766-79d91324a47f',layerType:data,legendDisplay:default,metric:'3ff7b043-acc4-4875-b1c9-f34b7308c37a',nestedLegend:!f,numberDisplay:percent)),shape:pie)),title:'',type:lens,visualizationType:lnsPie),enhancements:()),gridData:(h:17,i:a4e840db-a206-433f-bc24-c3524b4944ce,w:15,x:0,y:61),panelIndex:a4e840db-a206-433f-bc24-c3524b4944ce,type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-a30e36a0-2f20-44f1-aef5-789663c9951e,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(a30e36a0-2f20-44f1-aef5-789663c9951e:(columnOrder:!('57e4472e-ba44-4b78-81e7-070d09aad0f1','2602522b-4a34-4fa6-99ce-70516470bbc9'),columns:('2602522b-4a34-4fa6-99ce-70516470bbc9':(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records),'57e4472e-ba44-4b78-81e7-070d09aad0f1':(dataType:string,isBucketed:!t,label:'Top%20values%20of%20channels.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'2602522b-4a34-4fa6-99ce-70516470bbc9',type:column),orderDirection:desc,otherBucket:!t,size:10),scale:ordinal,sourceField:channels.keyword)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(layers:!((categoryDisplay:default,groups:!('57e4472e-ba44-4b78-81e7-070d09aad0f1'),layerId:a30e36a0-2f20-44f1-aef5-789663c9951e,layerType:data,legendDisplay:default,metric:'2602522b-4a34-4fa6-99ce-70516470bbc9',nestedLegend:!f,numberDisplay:percent)),shape:donut)),title:'',type:lens,visualizationType:lnsPie),enhancements:(),hidePanelTitles:!f),gridData:(h:17,i:'6f06f718-798c-4665-8ca4-986a7a0ac828',w:17,x:15,y:61),panelIndex:'6f06f718-798c-4665-8ca4-986a7a0ac828',title:'channels%20Registered',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-027c7589-e955-4f10-b000-88962364f481,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('027c7589-e955-4f10-b000-88962364f481':(columnOrder:!('3e346a0a-16ae-4d70-8419-a489b18a0004',c4ba144d-dbbc-4d02-abc0-8d0172c7b894),columns:('3e346a0a-16ae-4d70-8419-a489b18a0004':(dataType:string,isBucketed:!t,label:'Top%20values%20of%20city.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:c4ba144d-dbbc-4d02-abc0-8d0172c7b894,type:column),orderDirection:desc,otherBucket:!t,size:10),scale:ordinal,sourceField:city.keyword),c4ba144d-dbbc-4d02-abc0-8d0172c7b894:(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(layers:!((categoryDisplay:default,groups:!('3e346a0a-16ae-4d70-8419-a489b18a0004'),layerId:'027c7589-e955-4f10-b000-88962364f481',layerType:data,legendDisplay:default,metric:c4ba144d-dbbc-4d02-abc0-8d0172c7b894,nestedLegend:!f,numberDisplay:percent)),shape:donut)),title:'',type:lens,visualizationType:lnsPie),enhancements:(),hidePanelTitles:!f),gridData:(h:17,i:'3816d2aa-48d2-4de9-8530-66e3e64eecf6',w:16,x:32,y:61),panelIndex:'3816d2aa-48d2-4de9-8530-66e3e64eecf6',title:City,type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'348d4760-9c7a-11ec-af01-2f4338321ea9',name:indexpattern-datasource-layer-e72deb9d-e409-45a7-93a0-4cad749775b9,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(e72deb9d-e409-45a7-93a0-4cad749775b9:(columnOrder:!('588f6bc5-5509-4df0-945c-1db19c5fc620','4faed8fe-107c-4bfb-8073-e87bee61ba17'),columns:('4faed8fe-107c-4bfb-8073-e87bee61ba17':(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records),'588f6bc5-5509-4df0-945c-1db19c5fc620':(dataType:string,isBucketed:!t,label:'Top%20values%20of%20couriers.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'4faed8fe-107c-4bfb-8073-e87bee61ba17',type:column),orderDirection:desc,otherBucket:!t,size:25),scale:ordinal,sourceField:couriers.keyword)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(layers:!((categoryDisplay:default,groups:!('588f6bc5-5509-4df0-945c-1db19c5fc620'),layerId:e72deb9d-e409-45a7-93a0-4cad749775b9,layerType:data,legendDisplay:default,metric:'4faed8fe-107c-4bfb-8073-e87bee61ba17',nestedLegend:!f,numberDisplay:percent)),shape:treemap)),title:'',type:lens,visualizationType:lnsPie),enhancements:(),hidePanelTitles:!f),gridData:(h:17,i:b128f8ae-2933-40ab-8909-67d937804256,w:48,x:0,y:78),panelIndex:b128f8ae-2933-40ab-8909-67d937804256,title:Couriers,type:lens,version:'7.16.2')),query:(language:kuery,query:''),tags:!(),timeRestore:!f,title:Users,viewMode:view)&show-query-input=true&show-time-filter=true&hide-filter-bar=true";
  constructor(public _sanitizer: DomSanitizer) {
    let userdetails = localStorage.getItem('userId');
    if (userdetails != null) {
      this.url = this.url.replace('(khub_user_id:2358)', '(khub_user_id:' + userdetails + ')');
      this.loaded = true;
      this.urlSafe = this._sanitizer.bypassSecurityTrustResourceUrl(this.url);
    }
  }

  ngOnInit(): void {

  }

  photoURL() {
    // return this._sanitizer.bypassSecurityTrustUrl(this.url);
    return this._sanitizer.sanitize(SecurityContext.URL, this.url)
  }


}
