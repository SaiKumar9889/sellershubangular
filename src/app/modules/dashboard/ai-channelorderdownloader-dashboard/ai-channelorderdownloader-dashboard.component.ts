import { Component, OnInit, SecurityContext } from '@angular/core';
import { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';

@Component({
  selector: 'app-ai-channelorderdownloader-dashboard',
  templateUrl: './ai-channelorderdownloader-dashboard.component.html',
  styleUrls: ['./ai-channelorderdownloader-dashboard.component.scss']
})
export class AiChannelorderdownloaderDashboardComponent implements OnInit {
  loaded: boolean = false;
  urlSafe: SafeResourceUrl;
  url: string = "https://login.sellershub.io/aidashboard/app/dashboards#/view/1e444310-a192-11ec-af01-2f4338321ea9?embed=true&_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30m,to:now))&_a=(description:'',filters:!(),fullScreenMode:!f,options:(hidePanelTitles:!f,syncColors:!f,useMargins:!t),panels:!((embeddableConfig:(enhancements:(),hidePanelTitles:!t,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(fontSize:12,markdown:'%23%23%23%20%5B!!%5BSellershub.io%5D(https:%2F%2Fwww.sellershub.io%2Fwp-content%2Fuploads%2F2021%2F11%2Fsel-up-1.png)%5D(https:%2F%2Fwww.sellershub.io%2F)%0A%0A',openLinksInNewTab:!f),title:'',type:markdown,uiState:())),gridData:(h:6,i:ba3b86e7-96c4-43cb-829c-89041a5b6f4c,w:9,x:0,y:0),panelIndex:ba3b86e7-96c4-43cb-829c-89041a5b6f4c,type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!t,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(fontSize:12,markdown:'%23%23%23%20Order%20and%20Product%20Schedulers%20Realtime%20Execution%20Stats%0AThis%20dashboard%20contains%20Order%20and%20Product%20Schedulers%20Realtime%20Execution%20Stats%20for%20sales%20team%20to%20play%20with.%20You%20can%20view%20it,%20search%20it,%20and%20interact%20with%20the%20visualizations.%20For%20more%20information%20about%20Sellershub%20documentation,%20check%20our%20%5Bdocs%5D(https:%2F%2Fwww.sellershub.io%2Fknowledge-base%2Fuser-guide%2F).%20%20%20%20%20%20%20%0A',openLinksInNewTab:!f),title:'',type:markdown,uiState:())),gridData:(h:6,i:'4df8ccb5-ded5-48fc-b163-2224693debf0',w:39,x:9,y:0),panelIndex:'4df8ccb5-ded5-48fc-b163-2224693debf0',type:visualization,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-layer-c2301e86-e353-4ae9-8297-3ee1eafba7f0,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(c2301e86-e353-4ae9-8297-3ee1eafba7f0:(columnOrder:!('74df6e95-578d-461f-b1a6-f0e03118f7ea'),columns:('74df6e95-578d-461f-b1a6-f0e03118f7ea':(customLabel:!t,dataType:number,isBucketed:!f,label:'%20',operationType:unique_count,scale:ratio,sourceField:khub_user_id)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(accessor:'74df6e95-578d-461f-b1a6-f0e03118f7ea',layerId:c2301e86-e353-4ae9-8297-3ee1eafba7f0,layerType:data)),title:'',type:lens,visualizationType:lnsMetric),enhancements:(),hidePanelTitles:!f),gridData:(h:6,i:'8f33711e-b568-4fb4-9400-8165558487f5',w:9,x:0,y:13),panelIndex:'8f33711e-b568-4fb4-9400-8165558487f5',title:'UserID%20Count',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-layer-d19249e1-6c57-4613-a4af-3e16081a63f2,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(d19249e1-6c57-4613-a4af-3e16081a63f2:(columnOrder:!('5bb0dff9-c6f1-4a10-99d0-19fcf29db42f','74ac95d9-5d1f-4c43-932a-ae6a85fa6261'),columns:('5bb0dff9-c6f1-4a10-99d0-19fcf29db42f':(dataType:string,isBucketed:!t,label:'Top%20values%20of%20channel.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'74ac95d9-5d1f-4c43-932a-ae6a85fa6261',type:column),orderDirection:desc,otherBucket:!t,size:20),scale:ordinal,sourceField:channel.keyword),'74ac95d9-5d1f-4c43-932a-ae6a85fa6261':(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(layers:!((categoryDisplay:default,groups:!('5bb0dff9-c6f1-4a10-99d0-19fcf29db42f'),layerId:d19249e1-6c57-4613-a4af-3e16081a63f2,layerType:data,legendDisplay:default,metric:'74ac95d9-5d1f-4c43-932a-ae6a85fa6261',nestedLegend:!f,numberDisplay:percent)),shape:donut)),title:'',type:lens,visualizationType:lnsPie),enhancements:(),hidePanelTitles:!f),gridData:(h:12,i:'4a2bdb77-5061-4578-a600-dbe26d202586',w:17,x:9,y:13),panelIndex:'4a2bdb77-5061-4578-a600-dbe26d202586',title:channel,type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-layer-81b0327c-3505-42cc-9e81-005566a61699,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('81b0327c-3505-42cc-9e81-005566a61699':(columnOrder:!(e7827ce5-a7e8-4224-bd08-186f1a7c0a66,'7843d4fe-f5f0-4def-9fa1-32862290424a'),columns:('7843d4fe-f5f0-4def-9fa1-32862290424a':(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records),e7827ce5-a7e8-4224-bd08-186f1a7c0a66:(dataType:string,isBucketed:!t,label:'Top%20values%20of%20status.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'7843d4fe-f5f0-4def-9fa1-32862290424a',type:column),orderDirection:desc,otherBucket:!t,size:5),scale:ordinal,sourceField:status.keyword)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(layers:!((categoryDisplay:default,groups:!(e7827ce5-a7e8-4224-bd08-186f1a7c0a66),layerId:'81b0327c-3505-42cc-9e81-005566a61699',layerType:data,legendDisplay:default,metric:'7843d4fe-f5f0-4def-9fa1-32862290424a',nestedLegend:!f,numberDisplay:percent)),shape:donut)),title:'',type:lens,visualizationType:lnsPie),enhancements:(),hidePanelTitles:!f),gridData:(h:12,i:fdd8a1aa-8146-47d8-ab3e-38e343574375,w:11,x:26,y:13),panelIndex:fdd8a1aa-8146-47d8-ab3e-38e343574375,title:Status,type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-layer-f073516d-9e57-47fe-b8f0-78d44ac5f107,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(f073516d-9e57-47fe-b8f0-78d44ac5f107:(columnOrder:!(ecb46e28-5875-4763-bb97-9970f0d0935f,'893b48fb-1bf6-46f3-8c86-db0e9f2376f5'),columns:('893b48fb-1bf6-46f3-8c86-db0e9f2376f5':(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records),ecb46e28-5875-4763-bb97-9970f0d0935f:(dataType:boolean,isBucketed:!t,label:'Top%20values%20of%20suspended',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'893b48fb-1bf6-46f3-8c86-db0e9f2376f5',type:column),orderDirection:desc,otherBucket:!t,size:5),scale:ordinal,sourceField:suspended)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(layers:!((categoryDisplay:default,groups:!(ecb46e28-5875-4763-bb97-9970f0d0935f),layerId:f073516d-9e57-47fe-b8f0-78d44ac5f107,layerType:data,legendDisplay:default,metric:'893b48fb-1bf6-46f3-8c86-db0e9f2376f5',nestedLegend:!f,numberDisplay:percent)),shape:donut)),title:'',type:lens,visualizationType:lnsPie),enhancements:(),hidePanelTitles:!f),gridData:(h:12,i:'60a3b97f-0794-4b5d-8a5a-62bce04fe8fe',w:11,x:37,y:13),panelIndex:'60a3b97f-0794-4b5d-8a5a-62bce04fe8fe',title:'Suspended%20Status',type:lens,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-layer-5ca97d0f-aea5-4b8d-9764-7cf7ed4b6815,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('5ca97d0f-aea5-4b8d-9764-7cf7ed4b6815':(columnOrder:!(b96f7cb3-4c2d-4b8c-9089-7f7eccb70d10),columns:(b96f7cb3-4c2d-4b8c-9089-7f7eccb70d10:(customLabel:!t,dataType:number,isBucketed:!f,label:'%20',operationType:unique_count,scale:ratio,sourceField:channel.keyword)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(accessor:b96f7cb3-4c2d-4b8c-9089-7f7eccb70d10,layerId:'5ca97d0f-aea5-4b8d-9764-7cf7ed4b6815',layerType:data)),title:'',type:lens,visualizationType:lnsMetric),enhancements:(),hidePanelTitles:!f),gridData:(h:6,i:'47daf543-74e9-4c7e-a855-d09b7f19380c',w:9,x:0,y:19),panelIndex:'47daf543-74e9-4c7e-a855-d09b7f19380c',title:'Channels%20Count',type:lens,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(axis_formatter:number,axis_position:left,axis_scale:normal,background_color:'rgba(202,142,174,0.2)',drop_last_bucket:0,id:f8d342b1-03dc-48ca-b982-44a4960cb90d,index_pattern:(id:a7ddbee0-a191-11ec-af01-2f4338321ea9),interval:'',isModelInvalid:!f,max_lines_legend:1,series:!((axis_position:right,chart_type:line,color:%2368BC00,fill:0.5,formatter:default,id:'72431d30-a1e0-11ec-9bb0-474d5a0943f3',label:'',line_width:1,metrics:!((id:'92687bf0-a1e0-11ec-9bb0-474d5a0943f3',type:count)),palette:(name:default,type:palette),point_size:1,separate_axis:0,split_mode:terms,stacked:none,terms_field:khub_user_id,terms_size:'30',time_range_mode:entire_time_range),(axis_position:right,chart_type:line,color:%2368BC00,fill:0.5,formatter:default,id:'54612520-a1e8-11ec-9bb0-474d5a0943f3',line_width:1,metrics:!((id:'54612521-a1e8-11ec-9bb0-474d5a0943f3',type:count)),palette:(name:default,type:palette),point_size:1,separate_axis:0,split_mode:terms,stacked:none,terms_field:status.keyword,terms_size:'30',time_range_mode:entire_time_range)),show_grid:1,show_legend:1,time_field:last_executed_time,time_range_mode:entire_time_range,tooltip_mode:show_all,truncate_legend:1,type:timeseries,use_kibana_indexes:!t),title:'',type:metrics,uiState:())),gridData:(h:12,i:c665de70-b007-45e2-a4ce-c6217c8e6dc2,w:48,x:0,y:25),panelIndex:c665de70-b007-45e2-a4ce-c6217c8e6dc2,title:'Last%20Executed%20Time',type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(axis_formatter:number,axis_position:left,axis_scale:normal,background_color:'rgba(185,168,136,0.25)',drop_last_bucket:0,id:'970421fe-80f1-4c7c-ad6f-4ced7838917b',index_pattern:(id:a7ddbee0-a191-11ec-af01-2f4338321ea9),interval:'',isModelInvalid:!f,max_bars:50,max_lines_legend:1,series:!((axis_position:right,chart_type:line,color:%2368BC00,fill:0.5,formatter:default,id:f58c931a-73e5-4ae9-b4d2-b3ebb4e30dab,label:'Next%20Execution%20Time',line_width:1,metrics:!((id:a417e55f-b195-4a4b-8b71-3e2e56fa0831,type:count)),palette:(name:default,type:palette),point_size:1,separate_axis:0,split_mode:terms,stacked:none,terms_field:khub_user_id,terms_size:'30',time_range_mode:entire_time_range),(axis_position:right,chart_type:line,color:%2368BC00,fill:0.5,formatter:default,id:fe9915b0-a568-11ec-b322-813b6081ebc6,line_width:1,metrics:!((id:fe993cc0-a568-11ec-b322-813b6081ebc6,type:count)),palette:(name:default,type:palette),point_size:1,separate_axis:0,split_mode:terms,stacked:none,terms_field:status.keyword,terms_size:'30')),show_grid:1,show_legend:1,time_field:next_execution_time,time_range_mode:entire_time_range,tooltip_mode:show_all,truncate_legend:1,type:timeseries,use_kibana_indexes:!t),title:'',type:metrics,uiState:())),gridData:(h:13,i:b0f78057-f5bd-4e4f-a760-070b44de6de1,w:48,x:0,y:37),panelIndex:b0f78057-f5bd-4e4f-a760-070b44de6de1,title:'Next%20Execution%20Time',type:visualization,version:'7.16.2'),(embeddableConfig:(attributes:(references:!((id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:a7ddbee0-a191-11ec-af01-2f4338321ea9,name:indexpattern-datasource-layer-f83fc872-c7c4-4bd5-9488-ead44160576b,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(f83fc872-c7c4-4bd5-9488-ead44160576b:(columnOrder:!('94421ded-12ff-45c4-9d18-29e8545c4676','77620c76-9f2e-4191-a5d9-9e6b073c177c','29888f2b-265f-4675-9747-1c44d578578b','85a65384-c9c9-4dd4-9f53-d2783c837209',e5144b4c-29a1-452c-9ca1-2fceeebf68f6),columns:('29888f2b-265f-4675-9747-1c44d578578b':(dataType:number,isBucketed:!f,label:'Median%20of%20from_days',operationType:median,scale:ratio,sourceField:from_days),'77620c76-9f2e-4191-a5d9-9e6b073c177c':(dataType:number,isBucketed:!f,label:'Median%20of%20frequency',operationType:median,scale:ratio,sourceField:frequency),'85a65384-c9c9-4dd4-9f53-d2783c837209':(dataType:number,isBucketed:!f,label:'Median%20of%20full_frequency',operationType:median,scale:ratio,sourceField:full_frequency),'94421ded-12ff-45c4-9d18-29e8545c4676':(dataType:date,isBucketed:!t,label:'@timestamp',operationType:date_histogram,params:(interval:auto),scale:interval,sourceField:'@timestamp'),e5144b4c-29a1-452c-9ca1-2fceeebf68f6:(dataType:number,isBucketed:!f,label:'Median%20of%20full_from_days',operationType:median,scale:ratio,sourceField:full_from_days)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(axisTitlesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),fittingFunction:None,gridlinesVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),labelsOrientation:(x:0,yLeft:0,yRight:0),layers:!((accessors:!('77620c76-9f2e-4191-a5d9-9e6b073c177c','29888f2b-265f-4675-9747-1c44d578578b','85a65384-c9c9-4dd4-9f53-d2783c837209',e5144b4c-29a1-452c-9ca1-2fceeebf68f6),layerId:f83fc872-c7c4-4bd5-9488-ead44160576b,layerType:data,seriesType:bar_stacked,xAccessor:'94421ded-12ff-45c4-9d18-29e8545c4676')),legend:(isVisible:!t,position:right),preferredSeriesType:bar_stacked,tickLabelsVisibilitySettings:(x:!t,yLeft:!t,yRight:!t),valueLabels:hide,yLeftExtent:(mode:full),yRightExtent:(mode:full))),title:'',type:lens,visualizationType:lnsXY),enhancements:(),hidePanelTitles:!f),gridData:(h:15,i:a46f0dbb-68a9-4c40-8498-331e2bbb20da,w:48,x:0,y:50),panelIndex:a46f0dbb-68a9-4c40-8498-331e2bbb20da,title:'Frequency%20Stats',type:lens,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(axis_formatter:number,axis_position:left,axis_scale:normal,background_color:'rgba(84,179,153,0.2)',drop_last_bucket:0,id:d64b7b63-38d3-4547-8378-53d00a2ebff2,index_pattern:(id:a7ddbee0-a191-11ec-af01-2f4338321ea9),interval:'',isModelInvalid:!f,max_lines_legend:1,series:!((axis_position:right,chart_type:line,color:'rgba(145,112,184,1)',fill:0.5,formatter:default,id:'58894d67-553f-4ffc-a4a8-a6bf3faa69dd',label:user,line_width:1,metrics:!((id:'09c2ee50-a1e7-11ec-9bb0-474d5a0943f3',type:count)),palette:(name:default,type:palette),point_size:1,separate_axis:0,split_mode:terms,stacked:none,terms_field:khub_user_id,terms_size:'30',time_range_mode:entire_time_range),(axis_position:right,chart_type:line,color:'rgba(211,96,134,1)',fill:0.5,formatter:default,id:fcad5ce0-a1e7-11ec-9bb0-474d5a0943f3,label:suspended,line_width:1,metrics:!((id:fcad5ce1-a1e7-11ec-9bb0-474d5a0943f3,type:count)),palette:(name:default,type:palette),point_size:1,separate_axis:0,split_mode:terms,stacked:none,terms_field:status.keyword,terms_size:'30',time_range_mode:entire_time_range)),show_grid:1,show_legend:1,time_field:last_full_executed_time,time_range_mode:entire_time_range,tooltip_mode:show_all,truncate_legend:1,type:timeseries,use_kibana_indexes:!t),title:'',type:metrics,uiState:())),gridData:(h:13,i:'090c9b48-76f7-49aa-9da9-ee7c84942dee',w:48,x:0,y:65),panelIndex:'090c9b48-76f7-49aa-9da9-ee7c84942dee',title:'Last%20full%20Executed%20Time',type:visualization,version:'7.16.2'),(embeddableConfig:(enhancements:(),sort:!(!('@timestamp',desc),!(khub_user_id,desc))),gridData:(h:16,i:'937f8b68-f28b-4fc8-9fab-cba1d50391ad',w:48,x:0,y:78),id:fa0f9da0-a191-11ec-af01-2f4338321ea9,panelIndex:'937f8b68-f28b-4fc8-9fab-cba1d50391ad',type:search,version:'7.16.2'),(embeddableConfig:(enhancements:(),hidePanelTitles:!f,savedVis:(data:(aggs:!(),searchSource:(filter:!(),query:(language:kuery,query:''))),description:'',id:'',params:(controls:!((fieldName:khub_user_id,id:'1648846004163',indexPattern:a7ddbee0-a191-11ec-af01-2f4338321ea9,label:UserID,options:(dynamicOptions:!t,multiselect:!t,order:desc,size:50,type:terms),parent:'',type:list),(fieldName:channel.keyword,id:'1648846079345',indexPattern:a7ddbee0-a191-11ec-af01-2f4338321ea9,label:Channels,options:(dynamicOptions:!t,multiselect:!t,order:desc,size:50,type:terms),parent:'',type:list),(fieldName:status.keyword,id:'1648846624892',indexPattern:a7ddbee0-a191-11ec-af01-2f4338321ea9,label:Status,options:(dynamicOptions:!t,multiselect:!t,order:desc,size:5,type:terms),parent:'',type:list)),pinFilters:!f,updateFiltersOnChange:!f,useTimeFilter:!f),title:'',type:input_control_vis,uiState:())),gridData:(h:7,i:'9aa59246-3068-4f93-bc41-9c1321e3bda6',w:48,x:0,y:6),panelIndex:'9aa59246-3068-4f93-bc41-9c1321e3bda6',title:'Subscription%20Filters',type:visualization,version:'7.16.2')),query:(language:kuery,query:''),tags:!(),timeRestore:!f,title:channelorderdownloader,viewMode:view)&show-query-input=true&show-time-filter=true&hide-filter-bar=true";
  constructor(public _sanitizer: DomSanitizer) {
    let userdetails = localStorage.getItem('userId');
    if (userdetails != null) {
      this.url = this.url.replace('(khub_user_id:2358)', '(khub_user_id:' + userdetails + ')');
      this.loaded = true;
      this.urlSafe = this._sanitizer.bypassSecurityTrustResourceUrl(this.url);
    }
  }

  ngOnInit(): void {

  }

  photoURL() {
    // return this._sanitizer.bypassSecurityTrustUrl(this.url);
    return this._sanitizer.sanitize(SecurityContext.URL, this.url)
  }


}
