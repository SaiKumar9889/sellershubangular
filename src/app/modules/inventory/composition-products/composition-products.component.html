<div  class=" m-15" >
  <div class="col-lg-12 col-sm-12 col-md-12   align-self-center text-right " style="padding-right: 0px;">
      <div class="d-flex justify-content-end align-items-center">
          <button (click)="openProductsModal()" type="button" class="btn  btn-success d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> Add Composit Products
              To this Product</button>
      </div>
  </div>
  <div class="table-responsive m-t-10">
      <table class="table table-striped table-bordered">
          <thead>
              <tr>
                  <th>SKU</th>
                  <th>Image</th>
                  <th>Product Title</th>
                  <th>Quantity</th>
                  <th>Action</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let prod of selectedProducts">
                  <td>{{prod.sku}}</td>

                  <td><img [src]="prod.imageUrl" height="40" /></td>
                  <td>{{prod.title}}</td>

                  <td><input name="qty-{{prod.sku}}" [(ngModel)]="prod.qty" type="number" id="qty-{{prod.sku}}" class="form-control"
                    (input)="validateQty(prod)"></td>

                  <td>
                      <!-- <button (click)="updateQty(prod)" type="button" class="btn btn-success btn-circle"><i class="fa fa-check"></i></button> -->
                      <button (click)="remove(prod)" type="button" class="btn btn-danger btn-circle"><i class="fa fa-times"></i></button>
                  </td>
              </tr>
          </tbody>
      </table>
  </div>
  <div class="col-md-12 col-lg-12 row ">
    <div class="col-md-11 text-right">
      <div class="form-group">
        <!-- <div class="custom-control custom-checkbox mr-sm-2">
            <input (click)="updateThqtystatus();" type="checkbox" class="custom-control-input" id="checkbox12" value="check">
            <label class="custom-control-label" for="checkbox12">Enable Equal Qty</label>
        </div> -->
    </div>
    </div>

          <div class="col-md-1 text-right">

              <button (click)="confirmLinkProduct()" class="btn btn-primary">Save</button>
          </div>
  </div>
</div>

<div id="search-modal" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog modal-xl">
      <div class="modal-content">
          <div class="modal-header">
              <h2 class="modal-title" style="color: rgb(255 165 0);font-weight: 400">Products
              </h2>

              <button type="button" class="close" data-dismiss="modal" (click)="modalclosed()" aria-hidden="true">Ã—</button>
          </div>
          <div class="modal-body">
              <div class="col-md-12 col-lg-12 row">
                  <div class="col-lg-12 col-sm-12 col-md-12  align-self-center text-right " style="padding-right: 0px;">

                      <div>
                        <div class="d-flex justify-content-end align-items-center">
                          <div class=" row">
                              <div class="col-md-4 col-lg-4">
                                  <div class="input-group">
                                      <input type="text" [(ngModel)]="title" class="form-control" id="pass3"
                                          placeholder="Enter Product Title">
                                  </div>
                              </div>
                              <div class="col-md-4 col-lg-4">
                                  <div class="input-group">
                                      <input type="text" [(ngModel)]="skuip" class="form-control" id="pass3"
                                          placeholder="Enter SKU">
                                  </div>
                              </div>
                              <button (click)="refresh()" type="button"
                                  class="btn btn-success d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> Apply
                                  Filter</button>
                          </div>
                      </div>
                      <div class="table-responsive m-t-10" style="max-height: 60vh;overflow-y: scroll;">
                          <table class="table table-striped table-bordered">
                              <thead class="text-center">
                                  <tr>
                                      <th>
                                          <div class="form-group">
                                              <label class="custom-control custom-checkbox m-b-0">
                                                  <input [checked]="isSelectAll" (click)="checkAll()" type="checkbox"
                                                      class="custom-control-input">
                                                  <span class="custom-control-label"></span>
                                              </label>
                                          </div>
                                      </th>
                                      <th>ID</th>
                                      <th>SKU</th>
                                      <th>Value</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  <tr *ngFor="let prod of allProducts" class="text-center">
                                      <td>
                                          <div class="form-group">
                                              <label class="custom-control custom-checkbox m-b-0">
                                                  <input [checked]="prod.selected" (click)="changesSelected(prod, $event)"
                                                      type="checkbox" class="custom-control-input">
                                                  <span class="custom-control-label"></span>
                                              </label>
                                          </div>
                                      </td>
                                      <td><img [src]="prod.imageUrl" height="40" /></td>
                                      <td>{{prod.sku}}</td>
                                      <td>{{prod.title}}</td>
                                  </tr>
                              </tbody>
                          </table>

                      </div>


                  </div>
                  <div class="row col-lg-12 col-md-12">
                    <div class="col-lg-6 col-md-6  m-t-10">
                        <span>Showing {{pageSize <= collectionsize ? pageSize : collectionsize}} of
                                {{collectionsize}} entries</span>
                    </div>
                    <div class="col-lg-6 col-md-6 ">
                        <ngb-pagination [collectionSize]="collectionsize" [pageSize]="pageSize" [(page)]="page" [maxSize]="3" [rotate]="true" [boundaryLinks]="true" (pageChange)="changespage(page);">
                        </ngb-pagination>
                    </div>
                </div>
              </div>

          </div>
          <div class="modal-footer">
            <button (click)="saveSelectedProd()" type="button" class="btn waves-effect waves-light btn-success" data-dismiss="modal">Save</button>
            <button type="button" class="btn btn-danger waves-effect" data-dismiss="modal" (click)="modalclosed()">Close</button>
        </div>
      </div>
  </div>
</div>
